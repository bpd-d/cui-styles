@use '../variables'as *;
@use '../mixins'as *;

$list-item-hover-background       : $component-background-shade-active;
$list-item-hover-background-dark  : $component-background-shade-dark-active;
$list-item-even-background        : $component-background-shade;
$list-item-even-background-dark   : $component-background-shade-dark;
$list-item-bullet-size            : 8px;
$list-item-color                  : $component-color-default;
$list-item-color-dark             : $component-color-default-dark;
$list-item-active-color-accent    : $component-background-accent;
$list-item-active-color-secondary : $component-background-secondary;
$list-item-inactive-color         : $component-color-muted;
$list-item-inactive-color-dark    : $component-color-muted-dark;
$list-transition-time             : $animation-duration-short;
$list-item-font-weight-bold       : $text-weight-bold;

@mixin list {
    ul.#{$prefix}-list {
        list-style: none;
        margin    : 0;
        padding   : 0;

        &>li {
            display: block;
            @include component-padding;
            color: $list-item-color;
        }

        &.#{$prefix}-inline {
            &>li {
                display: inline-block;
            }
        }

        &.#{$prefix}-small {
            &>li {
                @include component-padding(small);
            }
        }

        &.#{$prefix}-hover {
            &>li {
                &:hover {
                    background-color: $list-item-hover-background;
                }
            }
        }

        &.#{$prefix}-stripped {
            &>li:nth-child(even) {
                background-color: $list-item-even-background;
            }
        }

        &.#{$prefix}-bullet {
            &>li {
                padding-left: 2rem;
                position    : relative;

                &:before {
                    content      : "";
                    position     : absolute;
                    border       : 1px solid $list-item-color;
                    border-radius: 50%;
                    width        : $list-item-bullet-size;
                    height       : $list-item-bullet-size;
                    top          : calc(1rem - 2px);
                    left         : 0.5rem;
                }
            }
        }

        &.#{$prefix}-interactive {
            &>li {
                padding: 0px;

                a {
                    position: relative;
                    display : block;
                    @include component-padding;
                    @include link-decoration($list-item-color);
                    @include createHighlight($color: $highlight-color-dark, $noTransition: true);

                    &:before {
                        content           : "";
                        position          : absolute;
                        width             : 2px;
                        border-radius     : 4px;
                        background-color  : transparent;
                        height            : 100%;
                        left              : 0;
                        top               : 50%;
                        transform         : translateY(-50%) scale(1, 0.4);
                        //transition      : transform $list-transition-time ease-out;
                    }

                    &:hover,
                    &:active {
                        outline: none !important;
                    }

                    &:focus {
                        font-weight: $text-weight-semi-bold;
                        box-shadow : none !important;

                        &:before {
                            background-color: $list-item-inactive-color;
                        }
                    }

                    &.#{$prefix}-active {
                        font-weight: $list-item-font-weight-bold;

                        &:before {
                            background-color  : $list-item-color;
                            //transition      : transform $list-transition-time ease-out;
                        }

                        &:hover {
                            &:before {
                                transform: translateY(-50%) scale(1, 0.6);
                            }
                        }
                    }
                }

                &.#{$prefix}-active {
                    a {
                        font-weight: $list-item-font-weight-bold;

                        &:before {
                            background-color: $list-item-color;
                        }

                        &:hover {
                            &:before {
                                transform: translateY(-50%) scale(1, 0.6);
                            }
                        }
                    }
                }
            }

            &.#{$prefix}-reverse {
                &>li {
                    a {
                        &:before {
                            left : 100%;
                            right: 0;
                        }
                    }
                }
            }
        }
    }
}

@mixin list-accent {
    ul.#{$prefix}-list.#{$prefix}-interactive.#{$prefix}-accent {

        &>li.#{$prefix}-active {
            a {
                &:before {
                    background-color: $list-item-active-color-accent;
                }
            }
        }

        &>li>a.#{$prefix}-active {
            &:before {
                background-color: $list-item-active-color-accent;
            }
        }
    }
}

@mixin list-secondary {
    ul.#{$prefix}-list.#{$prefix}-interactive.#{$prefix}-secondary {

        &>li.#{$prefix}-active {
            a {
                &:before {
                    background-color: $list-item-active-color-secondary !important;
                }
            }
        }

        &>li>a.#{$prefix}-active {
            &:before {
                background-color: $list-item-active-color-secondary !important;
            }
        }
    }
}


@mixin list-dark {
    .#{$prefix}-dark {
        ul.#{$prefix}-list {
            &>li {
                color: $list-item-color-dark;
            }

            &.#{$prefix}-bullet {
                &>li {
                    &:before {
                        border-color: $list-item-color-dark;
                    }
                }
            }

            &.#{$prefix}-hover {
                &>li {
                    &:hover {
                        background-color: $list-item-hover-background-dark;
                    }
                }
            }


            &.#{$prefix}-stripped {
                &>li:nth-child(even) {
                    background-color: $list-item-even-background-dark;
                }
            }

            &.#{$prefix}-interactive {
                &>li {
                    &>a {
                        color                          : $list-item-color-dark;
                        @include updateHighlight($color: $highlight-color);
                        user-select                    : none;

                        &:focus {
                            &:before {
                                background-color: $list-item-inactive-color-dark;
                            }
                        }

                        &.#{$prefix}-active {
                            &:before {
                                background-color: $list-item-color-dark;
                            }
                        }
                    }

                    &.#{$prefix}-active {
                        a {
                            &:before {
                                background-color: $list-item-color-dark;
                            }
                        }
                    }
                }
            }
        }
    }
}

@mixin list-print {
    .#{$prefix}-print {
        ul.#{$prefix}-list {
            &>li {
                color: $component-print-color;
            }

            &.#{$prefix}-bullet {
                &>li {
                    &:before {
                        border-color: $component-print-color;
                    }
                }
            }

            &.#{$prefix}-stripped {
                &>li {
                    background-color: $component-print-background;
                }
            }

            &.#{$prefix}-interactive {
                &>li {
                    &.#{$prefix}-active {
                        a {
                            &:before {
                                background-color: $component-print-color;
                            }
                        }
                    }

                }
            }
        }
    }
}

@mixin list-no-transitions {
    body:not(.#{$prefix}-no-transitions) {
        .#{$prefix}-list {
            &.#{$prefix}-interactive {
                .#{$prefix}-active {
                    a {
                        &:before {
                            transition: transform $list-transition-time ease-out;
                        }
                    }
                }

                a.#{$prefix}-active {
                    &:before {
                        transition: transform $list-transition-time ease-out;
                    }
                }
            }
        }
    }
}

@mixin definitions {
    @include list();
    @include list-no-transitions();
    @include list-dark();
    @include list-accent();
    @include list-secondary();
    @include list-print();
}