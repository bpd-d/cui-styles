@use '../variables'as *;

$navbar-background-default     : $component-background-default;
$navbar-background-default-dark: $component-background-default-dark;
$navbar-color-default          : $component-color-default;
$navbar-color-default-dark     : $component-color-default-dark;

$navbar-color-muted      : $component-color-muted;
$navbar-color-muted-dark : $component-color-muted-dark;

$navbar-item-padding      : $padding-global;
$navbar-item-padding-small: $padding-global-small;

$navbar-text-normal: $text-weight-normal;
$navbar-text-bold  : $text-weight-bold;
$navbar-margin     : $margin-global;


@mixin navbar {
    .#{$prefix}-navbar {
        display         : flex;
        flex-wrap       : wrap;
        justify-content : space-between;
        align-items     : center;
        background-color: $navbar-background-default;
        box-shadow      : $shadow2;
        box-sizing      : border-box;
        padding         : 0px;
        z-index         : 1100;

        &.#{$prefix}-transparent {
            background-color: transparent;
            box-shadow      : none;
        }

        &.#{$prefix}-space {
            ul {
                padding: $navbar-item-padding-small;
            }
        }

        &.#{$prefix}-large {
            ul {
                padding: $navbar-item-padding;
            }
        }

        ul {
            display   : inline-flex;
            list-style: none;
            margin    : 0px;
            padding   : 0px;
            height    : 100%;
            box-sizing: border-box;

            li {
                display        : inline-flex;
                box-sizing     : border-box;
                align-items    : center;
                justify-content: center;
                padding        : 1px;

                span {
                    padding: $navbar-item-padding;
                }

                a {

                    &:not(.#{$prefix}-icon-button):not(.#{$prefix}-button) {
                        padding: $navbar-item-padding;
                    }

                    text-decoration: none;

                    &:hover,
                    &:active,
                    &:focus {
                        outline: none !important;
                    }
                }
            }
        }

        .#{$prefix}-navbar-left {
            justify-self: left;
            align-self  : center;
            box-sizing  : border-box;
            order       : 1;
            height      : 100%;
            min-width   : calc(100% / 3);
            margin-left : $navbar-margin;
        }

        .#{$prefix}-navbar-middle {
            justify-self: center;
            align-self  : center;
            order       : 2;
            box-sizing  : border-box;

        }

        .#{$prefix}-navbar-right {
            justify-self   : end;
            align-self     : center;
            display        : flex;
            justify-content: flex-end;
            order          : 3;
            min-width      : calc(100% / 3);
            box-sizing     : border-box;
            margin-right   : $navbar-margin;

        }

        .#{$prefix}-navbar-title {
            color          : $navbar-color-default;
            font-weight    : 700;
            text-decoration: none;
            font-size      : 1.2rem;
        }
    }

    .#{$prefix}-navbar-item {
        color      : $navbar-color-default;
        font-weight: $navbar-text-normal;
        position   : relative;

        &:before {
            content         : "";
            height          : 1px;
            position        : absolute;
            bottom          : 0px;
            left            : 50%;
            transform       : translate(-50%, -2px);
            width           : 40%;
            background-color: transparent;
        }

        &:focus {
            outline: none !important;

            &:before {
                background-color: $navbar-color-muted;
            }

        }

        &.#{$prefix}-active {
            font-weight: $navbar-text-bold;

            // &:focus {
            //     outline: none !important;

            //     &:before {
            //         background-color: green($color: #000000);
            //     }
            // }
        }
    }

}

@mixin navbar-dark {
    .#{$prefix}-dark {
        .#{$prefix}-navbar {
            background-color: $navbar-background-default-dark;

            .#{$prefix}-navbar-title {
                color: $navbar-color-default-dark;
            }
        }

        .#{$prefix}-navbar-item {
            color: $navbar-color-default-dark;
        }
    }
}

@mixin navbar-print {
    .#{$prefix}-print {
        .#{$prefix}-navbar {
            box-shadow      : $component-print-shadow;
            background-color: $component-print-background;

            .#{$prefix}-navbar-title {
                color: $component-print-color;
            }
        }

        .#{$prefix}-navbar-item {
            color: $component-print-color;
        }
    }
}

@mixin navbar-media {
    @media (max-width: $breakpoint-s) {

        .#{$prefix}-navbar-left,
        .#{$prefix}-navbar-right {
            // justify-self   : center;
            //justify-content: center !important;
            width : 100%;
            margin: 0px !important;
        }
    }

    // View medium
    @media (min-width: $breakpoint-s) and (max-width: $breakpoint-m) {

        .#{$prefix}-navbar-left,
        .#{$prefix}-navbar-right {
            //  justify-self   : center;
            //justify-content: center !important;
            width : 100%;
            margin: 0px !important;
        }
    }
}

@mixin definitions {
    @include navbar();
    @include navbar-dark();
    @include navbar-print();
    @include navbar-media();
}