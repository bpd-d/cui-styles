@use "sass:map";
@use '../variables'as *;
@use '../mixins'as *;

$indicator-transition-time     : $animation-duration-default;
$indicator-item-width          : 24px;
$indicator-item-height         : 24px;
$indicator-item-line           : 24px;
$indicator-item-transform      : scale(1);
$indicator-item-transform-hover: scale(1.1);
$indicator-item-font-size      : 14px;
$indicator-item-color          : $component-color-default;
$indicator-item-color-dark     : $component-color-default-dark;
$indicator-round-size          : 14px;
$indicator-round-border        : 1px solid $indicator-item-color;
$indicator-active-border       : 2px solid $indicator-item-color;
$indicator-round-border-dark   : 1px solid $indicator-item-color-dark;
$indicator-active-border-dark  : 2px solid $indicator-item-color-dark;

$indicator-shade-color              : $component-background-shade;
$indicator-shade-color-dark         : $component-background-shade-dark;
$indicator-shade-color-active       : $component-background-shade-active;
$indicator-shade-color-active-dark  : $component-background-shade-dark-active;
$indicator-shade-border             : 1px solid $indicator-shade-color;
$indicator-shade-active-border      : 2px solid $indicator-shade-color;
$indicator-shade-border-dark        : 1px solid $indicator-shade-color-dark;
$indicator-shade-active-border-dark : 2px solid $indicator-shade-color-dark;

@mixin switcher {
    ul.#{$prefix}-switcher-indicator {
        list-style: none;
        padding   : 0;

        li {
            cursor        : pointer;
            display       : inline-block;
            box-sizing    : border-box;
            margin        : 0;
            position      : relative;
            text-align    : center;
            vertical-align: middle;
            width         : $indicator-item-width;
            height        : $indicator-item-height;
            line-height   : $indicator-item-line;
            font-size     : $indicator-item-font-size;
            transform     : $indicator-item-transform;
            transition    : transform $indicator-transition-time ease-in;

            &:hover {
                transform: $indicator-item-transform-hover;
            }

            &:before {
                content      : "";
                position     : absolute;
                border-radius: 50%;
                top          : 2px;
                left         : 2px;
                width        : $indicator-round-size;
                height       : $indicator-round-size;
                border       : $indicator-round-border;
            }

            &.#{$prefix}-active {
                &:before {
                    border: $indicator-active-border;
                    top   : 1px;
                    left  : 1px;
                }
            }
        }

        &.#{$prefix}-small {
            li {
                width      : 18px;
                height     : 18px;
                line-height: 18px;
                font-size  : 6px;

                &:before {
                    width : 10px;
                    height: 10px;
                    top   : 4px;
                    left  : 4px;
                }

                &.#{$prefix}-active {
                    &:before {
                        top : 3px;
                        left: 3px;
                    }
                }
            }
        }

        &.#{$prefix}-shade {
            li {
                &:before {
                    border          : $indicator-shade-border;
                    background-color: $indicator-shade-color;
                }

                &.#{$prefix}-active {
                    &:before {
                        border          : $indicator-shade-active-border;
                        background-color: $indicator-shade-color-active;
                    }
                }
            }
        }
    }
}

@mixin switcher-option-small {
    ul.#{$prefix}-switcher-indicator {
        &.#{$prefix}-small {
            li {
                width      : 18px;
                height     : 18px;
                line-height: 18px;
                font-size  : 6px;

                &:before {
                    width : 10px;
                    height: 10px;
                    top   : 4px;
                    left  : 4px;
                }

                &.#{$prefix}-active {
                    &:before {
                        top : 3px;
                        left: 3px;
                    }
                }
            }
        }
    }
}

@mixin switcher-option-shade {
    ul.#{$prefix}-switcher-indicator {
        &.#{$prefix}-shade {
            li {
                &:before {
                    border          : $indicator-shade-border;
                    background-color: $indicator-shade-color;
                }

                &.#{$prefix}-active {
                    &:before {
                        border: $indicator-shade-active-border;

                    }
                }
            }
        }
    }
}

@mixin switcher-option-shade-dark {
    @include mode-dark {
        ul.#{$prefix}-switcher-indicator {
            &.#{$prefix}-shade {
                li {
                    &:before {
                        border          : $indicator-shade-border-dark;
                        background-color: $indicator-shade-color-dark;
                    }

                    &.#{$prefix}-active {
                        &:before {
                            border          : $indicator-shade-active-border-dark;
                            background-color: $indicator-shade-color-active-dark;

                        }
                    }
                }
            }
        }
    }
}

@mixin switcher-option-shade-print {
    @include mode-print {
        ul.#{$prefix}-switcher-indicator {
            &.#{$prefix}-shade {
                li {
                    &:before {
                        border          : $component-print-border;
                        background-color: transparent;
                    }

                    &.#{$prefix}-active {
                        &:before {
                            border          : $component-print-border;
                            background-color: transparent;

                        }
                    }
                }
            }
        }
    }
}

@mixin switcher-dark {
    @include mode-dark {
        ul.#{$prefix}-switcher-indicator {
            li {
                &:before {
                    border: $indicator-round-border-dark;
                }

                &.#{$prefix}-active {
                    &:before {
                        border: $indicator-active-border-dark;
                    }
                }
            }
        }
    }
}


@mixin switcher-print {
    @include mode-print {
        ul.#{$prefix}-switcher-indicator {
            li {
                &:before {
                    border: $component-print-border;
                }
            }
        }
    }
}

@mixin definitions($options) {
    @include switcher();

    @if(not-option-disabled($options, 'dark')) {
        @include switcher-dark();
    }

    @if(not-option-disabled($options, 'print')) {
        @include switcher-print();
    }

    @if(not-option-disabled($options, 'shade')) {
        @include switcher-option-shade();

        @if(not-option-disabled($options, 'dark')) {
            @include switcher-option-shade-dark();
        }

        @if(not-option-disabled($options, 'print')) {
            @include switcher-option-shade-print();
        }
    }

    @if(not-option-disabled($options, 'small')) {
        @include switcher-option-small()
    }
}