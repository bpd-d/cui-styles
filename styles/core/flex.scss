@use "../variables.scss"as *;
@use "../mixins.scss"as *;

@mixin order($size: "") {
    @for $i from 1 through 10 {
        .#{$prefix}-order-#{$i}#{$size} {
            order: $i;
        }
    }
}

@mixin common($size: "") {
    .#{$prefix}-flex {
        &.#{$prefix}-center#{$size} {
            justify-content: center !important;
        }

        &.#{$prefix}-evenly#{$size} {
            justify-content: space-evenly !important;
        }

        &.#{$prefix}-between#{$size} {
            justify-content: space-between !important;
        }

        &.#{$prefix}-right#{$size} {
            justify-content: flex-end !important;
        }

        &.#{$prefix}-left#{$size} {
            justify-content: flex-start !important;
        }

        // ALign

        &.#{$prefix}-middle#{$size} {
            align-items: center !important;
        }

        &.#{$prefix}-end#{$size} {
            align-items: flex-end !important;
        }

        &.#{$prefix}-stretch#{$size} {
            align-items: stretch !important;
        }

        // Items

        .#{$prefix}-flex-grow#{$size} {
            flex: 1 1 auto !important;
        }

        .#{$prefix}-flex-shrink#{$size} {
            flex: 0 0 auto !important;
        }

        .#{$prefix}-flex-auto#{$size} {
            flex: 1 1 auto !important;
        }
    }
}


@mixin flex-base {
    .#{$prefix}-flex {
        display        : flex !important;
        flex-wrap      : wrap;
        justify-content: start;
        align-items    : flex-start;
    }
}

@mixin flex-direction($size: "") {
    .#{$prefix}-flex#{$size} {
        .#{$prefix}-flex-direction-column {
            flex-direction: column;
        }

        .#{$prefix}-flex-direction-column-reverse#{$size} {
            flex-direction: column-reverse;
        }

        .#{$prefix}-flex-direction-row-reverse#{$size} {
            flex-direction: row-reverse;
        }

        .#{$prefix}-flex-direction-row#{$size} {
            flex-direction: row;
        }
    }
}

@mixin flex-direction-responsive {
    @include media-screen-min-small {
        @include flex-direction(--s);
    }

    @include media-screen-min-medium {
        @include flex-direction(--m);
    }

    @include media-screen-min-large {
        @include flex-direction(--l);
    }

    @include media-screen-min-xlarge {
        @include flex-direction(--xl);
    }
}

@mixin flex-order {
    @include order();
}

@mixin flex-order-responsive {
    @include media-screen-min-small {
        @include order(--s);
    }

    @include media-screen-min-medium {
        @include order(--m);
    }

    @include media-screen-min-large {
        @include order(--l);
    }

    @include media-screen-min-xlarge {
        @include order(--xl);
    }
}

@mixin flex-align {
    .#{$prefix}-flex {
        &.#{$prefix}-center {
            justify-content: center;
        }

        &.#{$prefix}-right {
            justify-content: flex-end;
        }

        &.#{$prefix}-left {
            justify-content: flex-start;
        }

        &.#{$prefix}-evenly {
            justify-content: space-evenly;
        }

        &.#{$prefix}-between {
            justify-content: space-between;
        }

        // ALign

        &.#{$prefix}-middle {
            align-items: center;
        }

        &.#{$prefix}-end {
            align-items: flex-end;
        }

        &.#{$prefix}-stretch {
            align-items: stretch;
        }
    }
}

@mixin flex-align-responsive {
    @include media-screen-min-small {
        @include common(--s);
    }

    @include media-screen-min-medium {
        @include common(--m);
    }

    @include media-screen-min-large {
        @include common(--l);
    }

    @include media-screen-min-xlarge {
        @include common(--xl);
    }
}

@mixin flex-wrap {
    .#{$prefix}-flex {
        &.#{$prefix}-nowrap {
            flex-wrap: nowrap;
        }

        &.#{$prefix}-wrap-rev {
            flex-wrap: wrap-reverse;
        }
    }
}

@mixin flex-grow {
    .#{$prefix}-flex {
        .#{$prefix}-flex-grow {
            flex: 1 1 auto;
        }

        .#{$prefix}-flex-shrink {
            flex: 0 1 auto;
        }
    }
}

@mixin flex-center {
    .#{$prefix}-flex-center {
        display        : flex !important;
        justify-content: center;
        align-items    : center;
        overflow       : hidden;
    }
}

@mixin definitions($options: ()) {
    @include flex-base();

    @if(not-option-disabled($options, 'center')) {
        @include flex-center()
    }

    @if(not-option-disabled($options, 'direction')) {
        @include flex-direction();

        @if(not-option-disabled($options, 'responsive')) {
            @include flex-direction-responsive();
        }
    }

    @if(not-option-disabled($options, 'grow')) {
        @include flex-grow();
    }

    @if(not-option-disabled($options, 'wrap')) {
        @include flex-wrap();
    }

    @if(not-option-disabled($options, 'order')) {
        @include flex-order();

        @if(not-option-disabled($options, 'responsive')) {
            @include flex-order-responsive();
        }

    }

    @if(not-option-disabled($options, 'align')) {
        @include flex-align();

        @if(not-option-disabled($options, 'responsive')) {
            @include flex-align-responsive();
        }
    }

}